<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/html">
<h:head>
    <title>Tableau de Bord Administrateur</title>
    <h:outputScript>
        #{authBean.checkAdminAccess()}
    </h:outputScript>
    <style>
        /* Style (identique à la version précédente) */
    </style>
</h:head>
<h:body>
    <header>
        <h1>Tableau de Bord Administrateur</h1>
    </header>
    <div class="container">
        <!-- Contenu du tableau de bord -->
        <h2>Liste des Requêtes</h2>
        <h:form>
            <h:dataTable value="#{requeteBean.requetes}" var="requete">
                <h:column>
                    <f:facet name="header">ID</f:facet>
                    #{requete.id}
                </h:column>
                <h:column>
                    <f:facet name="header">Sujet</f:facet>
                    #{requete.sujet}
                </h:column>
                <h:column>
                    <f:facet name="header">Statut</f:facet>
                    #{requete.statut}
                </h:column>
                <h:column>
                    <h:commandButton value="Détails" action="#{requeteBean.voirDetails(requete.id)}" />
                    <h:commandButton value="Terminer" action="#{requeteBean.terminerRequete}" rendered="#{requete.statut eq 'EN_COURS'}" />
                    <h:commandButton value="Supprimer" action="#{requeteBean.supprimerRequete(requete.id)}" />
                </h:column>
            </h:dataTable>
        </h:form>
    </div>
</h:body>
</html>
